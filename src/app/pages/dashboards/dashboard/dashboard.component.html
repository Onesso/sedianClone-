<!-- Start Breadcrumbs -->
<app-breadcrumbs title="DASHBOARD" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>
<!-- End Breadcrumbs -->

<div class="row">
    <div class="col">

        <div class="h-100">
            <div class="row mb-3 pb-1">
                <div class="col-12">
                    <div class="d-flex align-items-lg-center flex-lg-row flex-column">
                        <div class="flex-grow-1">
                            <h4 class="fs-16 mb-1">Good Morning, {{this.user}}!</h4>
                            <p class="text-muted mb-0">Get in touch with the customer onboarding analytics.</p>
                        </div>
                        <div class="mt-3 mt-lg-0">

                            <div class="row g-3 mb-0 align-items-center">
                                <div class="col-sm-auto">
                                    <div class="input-group">
                                        <!-- <input class="form-control flatpickr-input" type="text" mwlFlatpickr [dateFormat]="'d M, Y'" [(ngModel)]="currentDate" [altInput]="false" [convertModelValue]="true" mode="range">
                                        <div class="input-group-text bg-primary border-primary text-white"><i class="ri-calendar-2-line"></i></div> -->
                                    </div>
                                </div><!--end col-->
                                <div class="col-auto">
                                    <!-- <button type="button" class="btn btn-soft-primary" routerLink="/ecommerce/add-product"><i class="ri-add-circle-line align-middle me-1"></i> Add Product</button> -->
                                </div><!--end col-->
                                <div class="col-auto">
                                    <button type="button" class="btn btn-soft-primary btn-icon waves-effect waves-light layout-rightside-btn" (click)="toggleActivity()"><i class="ri-pulse-line"></i></button>
                                </div><!--end col-->
                            </div><!--end row-->
                        </div>
                    </div><!-- end card header -->
                </div><!--end col-->
            </div><!--end row-->
            <div class="row">
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-animate">
                        <div class="card-body" [ngClass]=" { 'bg-info': rateAnalysis.bgColor}">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <p class="text-uppercase fw-medium text-{{rateAnalysis.labelClass}} mb-0">{{rateAnalysis.label}}</p>
                                </div>
                                <div class="flex-shrink-0">
                                    <h5 class="text-{{rateAnalysis.percentageClass}} fs-14 mb-0">
                                        <i class="{{rateAnalysis.percentageIcon}} fs-13 align-middle"></i> {{this.rateAnalysis.accountsToday? this.rateAnalysis.accountsToday: 0}}
                                    </h5>
                                </div>
                            </div>
                            <div class="d-flex align-items-end justify-content-between mt-4">
                                <div>
                                    <h4 class="fs-22 fw-semibold ff-secondary mb-4" [ngClass]=" { 'text-white': rateAnalysis.counterClass}">
                                        {{rateAnalysis.prefix}}<span *ngIf="!loading" [countUp]="rateAnalysis.counter" class="counter-value" [options]="option"></span>  <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div><span *ngIf="!loading">{{rateAnalysis.suffix}}</span></h4>
                                    <a href="javascript:void(0);" class=""
                                        [ngClass]=" { 'text-white-50': rateAnalysis.captionClass}">{{this.incompleteApplications}} INCOMPLETE</a>
                                </div>
                                <div class="avatar-sm flex-shrink-0">
                                    <span class="avatar-title {{rateAnalysis.iconClass}} rounded fs-3">
                                        <i class="{{rateAnalysis.icon}} text-{{rateAnalysis.iconClass}}"></i>
                                    </span>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-animate">
                        <div class="card-body" [ngClass]=" { 'bg-info': individualAccountAnalysys.bgColor}">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <p class="text-uppercase fw-medium text-{{individualAccountAnalysys.labelClass}} mb-0">{{individualAccountAnalysys.label}}</p>
                                </div>
                                <div class="flex-shrink-0">
                                    <h5 class="text-{{individualAccountAnalysys.percentageClass}} fs-14 mb-0">
                                        <i class="{{individualAccountAnalysys.percentageIcon}} fs-13 align-middle"></i> 
                                    </h5>
                                </div>
                            </div>
                            <div class="d-flex align-items-end justify-content-between mt-4">
                                <div>
                                    <h4 class="fs-22 fw-semibold ff-secondary mb-4" [ngClass]=" { 'text-white': individualAccountAnalysys.counterClass}">
                                        {{individualAccountAnalysys.prefix}}<span *ngIf="!loading" [countUp]="individualAccountAnalysys.openedIndiv" class="counter-value" [options]="option"></span>
                                        <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>{{individualAccountAnalysys.suffix}}</h4>
                                    <a href="javascript:void(0);" class=""
                                        [ngClass]=" { 'text-white-50': individualAccountAnalysys.captionClass}">OPENED</a>
                                </div>
                                <div class="avatar-sm flex-shrink-0">
                                    <span class="avatar-title {{individualAccountAnalysys.iconClass}} rounded fs-3">
                                        <i class="{{individualAccountAnalysys.icon}} text-{{individualAccountAnalysys.iconClass}}"></i>
                                    </span>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-animate">
                        <div class="card-body" [ngClass]=" { 'bg-info': jointAccountAnalysys.bgColor}">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <p class="text-uppercase fw-medium text-{{jointAccountAnalysys.labelClass}} mb-0">{{jointAccountAnalysys.label}}</p>
                                </div>
                                <div class="flex-shrink-0">
                                    <h5 class="text-{{jointAccountAnalysys.percentageClass}} fs-14 mb-0">
                                        <i class="{{jointAccountAnalysys.percentageIcon}} fs-13 align-middle"></i>
                                    </h5>
                                </div>
                            </div>
                            <div class="d-flex align-items-end justify-content-between mt-4">
                                <div>
                                    <h4 class="fs-22 fw-semibold ff-secondary mb-4" [ngClass]=" { 'text-white': jointAccountAnalysys.counterClass}">
                                        {{jointAccountAnalysys.prefix}}<span *ngIf="!loading" [countUp]="this.success_rate" class="counter-value" [options]="option"></span>
                                        <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                        {{jointAccountAnalysys.suffix}}</h4>
                                    <a href="javascript:void(0);" class=""
                                        [ngClass]=" { 'text-white-50': jointAccountAnalysys.captionClass}">Complete Vs Incomplete KYC</a>
                                </div>
                                <div class="avatar-sm flex-shrink-0">
                                    <span class="avatar-title {{jointAccountAnalysys.iconClass}} rounded fs-3">
                                        <i class="{{jointAccountAnalysys.icon}} text-{{jointAccountAnalysys.iconClass}}"></i>
                                    </span>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->
                <div class="col-xl-3 col-md-6">
                    <!-- card -->
                    <div class="card card-animate">
                        <div class="card-body" [ngClass]=" { 'bg-info': yearlyAccountAnalysys.bgColor}">
                            <div class="d-flex align-items-center">
                                <div class="flex-grow-1">
                                    <p class="text-uppercase fw-medium text-{{yearlyAccountAnalysys.labelClass}} mb-0">{{yearlyAccountAnalysys.label}}</p>
                                </div>
                                <div class="flex-shrink-0">
                                    <h5 class="text-{{yearlyAccountAnalysys.percentageClass}} fs-14 mb-0">
                                        <i class="{{yearlyAccountAnalysys.percentageIcon}} fs-13 align-middle"></i> 
                                    </h5>
                                </div>
                            </div>
                            <div class="d-flex align-items-end justify-content-between mt-4">
                                <div>
                                    <h4 class="fs-22 fw-semibold ff-secondary mb-4" [ngClass]=" { 'text-white': yearlyAccountAnalysys.counterClass}">
                                        {{yearlyAccountAnalysys.prefix}}<span *ngIf="!loading" [countUp]="this.rateAnalysis.currentYearTotal" class="counter-value" [options]="option"></span>
                                        <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                            <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                        {{yearlyAccountAnalysys.suffix}}</h4>
                                    <a href="javascript:void(0);" class=""
                                        [ngClass]=" { 'text-white-50': yearlyAccountAnalysys.captionClass}">Applications this year</a>
                                </div>
                                <div class="avatar-sm flex-shrink-0">
                                    <span class="avatar-title {{yearlyAccountAnalysys.iconClass}} rounded fs-3">
                                        <i class="{{yearlyAccountAnalysys.icon}} text-{{yearlyAccountAnalysys.iconClass}}"></i>
                                    </span>
                                </div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->
            </div> <!-- end row-->

        
               
       

            <div class="row">
                <div class="col-xl-8">
                    <div class="card">
                        <div class="card-header border-0 align-items-center d-flex">
                            <h4 class="card-title mb-0 flex-grow-1">Application Services</h4>
                            <div class="d-flex gap-1">
                                <!-- <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('all')">
                                    ALL
                                </button>
                                <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('1M')">
                                    1M
                                </button>
                                <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('6M')">
                                    6M
                                </button> -->
                                <button type="button" class="btn btn-soft-primary btn-sm" (click)="setrevenuevalue('1Y')">
                                    Services Statistics
                                </button>
                            </div>
                        </div><!-- end card header -->

                        <div class="card-header p-0 border-0 bg-light-subtle">
                            <div class="row g-0 text-center">
                                <div class="col-6 col-sm-3">
                                    <div class="p-3 border border-dashed border-start-0">
                                        <h5 class="mb-1 text-muted"><span [countUp]="accCheckCounts" class="counter-value" [options]="option"></span></h5>
                                        <p class="text-muted mb-0">Acc. Check</p>
                                    </div>
                                </div><!--end col-->
                                <div class="col-6 col-sm-3">
                                    <div class="p-3 border border-dashed border-start-0">
                                        <h5 class="mb-1"><span [countUp]="this.kraCounts" class="counter-value" [options]="option"></span></h5>
                                        <p class="text-muted mb-0">KRA</p>
                                    </div>
                                </div><!--end col-->
                                <div class="col-6 col-sm-3">
                                    <div class="p-3 border border-dashed border-start-0">
                                        <h5 class="mb-1"><span [countUp]="iprsCounts" class="counter-value" [options]="option"></span></h5>
                                        <p class="text-muted mb-0">IPRS</p>
                                    </div>
                                </div><!--end col-->
                                <div class="col-6 col-sm-3">
                                    <div class="p-3 border border-dashed border-start-0">
                                        <h5 class="mb-1"><span [countUp]="complianceCounts" class="counter-value" [options]="option"></span></h5>
                                        <p class="text-muted mb-0">Compliance</p>
                                    </div>
                                </div><!--end col-->
                                <div class="col-6 col-sm-3">
                                    <div class="p-3 border border-dashed border-start-0 border-top-0">
                                        <h5 class="mb-1 text-muted"><span [countUp]="recogCounts" class="counter-value" [options]="option"></span></h5>
                                        <p class="text-muted mb-0">Recognition</p>
                                    </div>
                                </div><!--end col-->
                            </div>
                        </div><!-- end card header -->

                        <div class="card-body p-0 pb-2">
                            <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                    <span class="sr-only">Loading...</span>
                                </div>
                            </div>
                            <div class="w-100" *ngIf="!loading">
                                <div echarts [options]="servicesOption" class="demo-chart"></div>
                            </div>
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->

                <div class="col-xl-4">
                    <!-- card -->
                    <div class="card card-height-100">
                        <div class="card-header align-items-center d-flex">
                            <h4 class="card-title mb-0 flex-grow-1">Gender Brakedown</h4>
                            <div class="flex-shrink-0">
                                <button type="button" class="btn btn-soft-primary btn-sm">
                                    Gender Statistics
                                </button>
                            </div>
                        </div><!-- end card header -->

                        <!-- card body -->
                        <div class="card-body">                                                 
                            <div id="sales-by-locations" style="height: 300px;">
                                <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                    <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                </div>
                                <!-- Gender Graph -->
                                <div *ngIf="!loading" echarts [options]="chartOption" class="demo-chart"></div>
                            </div>
                        </div>
                        <!-- end card body -->
                    </div>
                    <!-- end card -->
                </div>
                <!-- end col -->
            </div>


            <div class="row">
                <div class="col-xl-8">
                    <div class="card">
                        <div class="card-header border align-items-center d-flex">
                            <h4 class="card-title mb-0 flex-grow-1">KYC Steps Completion</h4>
                            <div class="d-flex gap-1">
                                <!-- <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('all')">
                                    ALL
                                </button>
                                <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('1M')">
                                    1M
                                </button>
                                <button type="button" class="btn btn-soft-secondary btn-sm" (click)="setrevenuevalue('6M')">
                                    6M
                                </button> -->
                                <button type="button" class="btn btn-soft-primary btn-sm" (click)="setrevenuevalue('1Y')">
                                    Steps Statistics
                                </button>
                            </div>
                        </div><!-- end card header -->                  

                        <div class="card-body p-0 pb-2">                          
                            <div class="w-100">
                                <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                    <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                </div>
                                <div *ngIf="!loading" echarts [options]="kycOption" class="demo-chart"></div>
                            </div>
                            
                        </div><!-- end card body -->
                    </div><!-- end card -->
                </div><!-- end col -->

                <div class="col-xl-4">
                    <!-- card -->
                    <div class="card card-height-100">
                        <div class="card-header align-items-center d-flex">
                            <h4 class="card-title mb-0 flex-grow-1">Age Brakedown</h4>
                            <div class="flex-shrink-0">
                                <button type="button" class="btn btn-soft-primary btn-sm">
                                    Export Report
                                </button>
                            </div>
                        </div><!-- end card header -->

                        <!-- card body -->
                        <div class="card-body">                          
                            <div id="sales-by-locations" style="height: 300px;">
                                <div class="d-flex justify-content-center align-items-center" *ngIf="loading">
                                    <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                                        <span class="sr-only">Loading...</span>
                                    </div>
                                </div>
                                <!-- Gender Graph -->
                                <div *ngIf="!loading" echarts [options]="ageOption" class="demo-chart"></div>
                            </div>
                        </div>
                        <!-- end card body -->
                    </div>
                    <!-- end card -->
                </div>
                <!-- end col -->
            </div>
        </div> <!-- end .h-100-->

    </div> <!-- end col -->          
                    
</div>

<!-- <app-toasts aria-live="polite" aria-atomic="true"></app-toasts> -->